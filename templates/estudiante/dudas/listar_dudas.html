{% extends "layout/base_estudiante.html" %}
{% load static %}

{% block 'sub-estilos' %}
<link rel="stylesheet" href="{% static 'css/lista dudas estudiante.css' %}">
{% endblock %}

{% block 'titulo' %}Dudas{% endblock %}

{% block 'link-dudas' %}active{% endblock %}

{% block 'contenido' %}
<div class='text-center mt-3 user-select-none'>
  <h1>Dudas sobre <b>"{{asignatura.nombre}}"</b></h1>
  <h3><b>Profesor: </b>{{profesor.usuario.first_name}} {{profesor.usuario.last_name}}</h3>
</div>
<hr>
<div class="container">
  <div class='lista'>
    {% for duda in object_list %}
    <div class="lista-item">
      <a class="lista-item-link" href="{% url "visualizar_duda" asignatura_pk=asignatura.pk profesor_pk=view.kwargs.profesor_pk pk=duda.pk %}"
      style="font-size: 20px;">
      <div class="row">
        <div class="col-md-9">
          {% if duda.respuestaduda %}
           <i class='fa fa-solid fa-check'></i> 
          {% endif %}
          <span class='fw-bold'>{{duda.fecha|date:'g:i a'}}</span>
          {{duda.sobre}}
        </div>
        <div class="col-md-3 text-center text-md-end fw-bold">
          {{duda.fecha|date:'d/m/Y'}}
        </div>
      </div>
    </a>
    {% if not duda.respuestaduda %}
      <a href="{% url "modificar_duda" asignatura_pk=asignatura.pk profesor_pk=view.kwargs.profesor_pk pk=duda.pk %}" class="lista-item-btn btn-modificar"><i class="fa-solid fa-pen-to-square"></i></a>
      {% else %}
      <button disabled class="lista-item-btn btn-modificar-off"><i class="fa-solid fa-pen-to-square"></i></button>
    {% endif %}
    <a href="{% url "eliminar_duda" asignatura_pk=asignatura.pk profesor_pk=view.kwargs.profesor_pk pk=duda.pk %}" class="lista-item-btn btn-eliminar"><i class="fa-solid fa-trash-can"></i></a>
    </div>
    {% endfor %}
  </div>
  <div class="mt-5 p-4"></div>
  <div class="fixed-bottom d-flex p-3 justify-content-around bg-white border shadow">
    <a href="{% url 'listar_profesores' asignatura_pk=view.kwargs.asignatura_pk %}" class="btn btn-purple"><i class="fa-solid fa-arrow-left"></i> Volver</a>
    <a href="{% url "crear_duda" asignatura_pk=asignatura.pk profesor_pk=view.kwargs.profesor_pk %}" class="btn btn-purple"><i class="fa-solid fa-plus"></i> Nueva Duda</a>
  </div>
</div>
{% endblock %}